// generated by Stellar Contracts dataBridgeGenerator
// based on types defined in Capo (src/DefaultCapo.hl)
// recommended: CHECK THIS FILE INTO YOUR VERSION CONTROL SYSTEM
//   ... and keep checking in the changes as your on-chain types evolve.
//
// NOTE: this file is auto-generated; do not edit directly

import { Cast } from "@helios-lang/contract-utils"
import type { UplcData } from "@helios-lang/uplc";
import type { 
    IntLike,
    ByteArrayLike,
 } from "@helios-lang/codec-utils";
import type {
    Address,
    AssetClass,
    DatumHash,
    MintingPolicyHash,
    PubKey,
    PubKeyHash,
    ScriptHash,
    SpendingCredential,
    StakingCredential,
    StakingHash,
    StakingValidatorHash,
    TimeRange,
    TxId,
    TxInput,
    TxOutput,
    TxOutputId,
    TxOutputDatum,
    ValidatorHash,
    Value,
} from "@helios-lang/ledger";
import type { EnumTypeSchema, StructTypeSchema } from "@helios-lang/type-utils";


import { DataBridge } from "../src/helios/dataBridge/DataBridge.js"
import { 
    EnumBridge,
    type JustAnEnum,
} from "../src/helios/dataBridge/EnumBridge.js"
import type { tagOnly } from "../src/helios/HeliosScriptBundle.js"
import type {hasSeed, isActivity} from "../src/StellarContract.js"

// todo: namespacing for all the good stuff here
// namespace CapoDataBridge {

import type {
    RelativeDelegateLink, RelativeDelegateLinkLike,
    CapoDatum$CharterToken, CapoDatum$CharterTokenLike,
    AnyData, AnyDataLike,
    CapoDatum$DelegatedData, CapoDatum$DelegatedDataLike,
    CapoDatum, CapoDatumLike,
    CapoActivity, CapoActivityLike
} from "./CapoWithGenericUuts.typeInfo.js";

export type * as types from "./CapoWithGenericUuts.typeInfo.js";
import type * as types from "./CapoWithGenericUuts.typeInfo.js";



//Note about @ts-expect-error drilling through protected accessors: This 
//   allows the interface for the nested accessor to show only the public details,
//   while allowing us to collaborate between these two closely-related classes.
//   Like "friends" in C++.

/**
 * data bridge for Capo script (defined in CapoBundleWithGenericUuts)}
 * main: src/DefaultCapo.hl, project: stellar-contracts
 * @remarks - note that you may override get dataBridgeName() { return "..." } to customize the name of this bridge class
 */
export class CapoDataBridge extends DataBridge {
    // for datum:
    datum: CapoDatumHelper = new CapoDatumHelper(this.bundle, {})   // datumAccessor/enum 
    CapoDatum: CapoDatumHelper = this.datum;
    readDatum = (d: UplcData) => {
        //@ts-expect-error drilling through the protected accessor.
        //   ... see more comments about that above
        return this.datum.__cast.fromUplcData(d);
    }


// for activity types:

    __activityCast = new Cast<
        CapoActivity, CapoActivityLike
    >(CapoActivitySchema, { isMainnet: true }); // activityAccessorCast

    /**
     * generates UplcData for the activity type (CapoActivity) for the Capo script
     */
    activity : CapoActivityHelper= new CapoActivityHelper(this.bundle, {isActivity: true}); // activityAccessor/enum
        CapoActivity: CapoActivityHelper = this.activity;


    types = {
        CapoDatum: new CapoDatumHelper(this.bundle),
        CapoActivity: new CapoActivityHelper(this.bundle),

        RelativeDelegateLink: (fields: RelativeDelegateLinkLike | {
    uutName: /*minStructField*/ string
    strategyName: /*minStructField*/ string
    delegateValidatorHash: /*minStructField*/ Option<ValidatorHash | string | number[]>
    config: /*minStructField*/ number[]
}
) => {
        return this.__RelativeDelegateLinkCast.toUplcData(fields);
    },
        AnyData: (fields: AnyDataLike | {
    id: /*minStructField*/ number[]
    type: /*minStructField*/ string
}
) => {
        return this.__AnyDataCast.toUplcData(fields);
    },    }    

    __RelativeDelegateLinkCast = new Cast<
                RelativeDelegateLink, RelativeDelegateLinkLike
            >(RelativeDelegateLinkSchema, { isMainnet: true });
    __AnyDataCast = new Cast<
                AnyData, AnyDataLike
            >(AnyDataSchema, { isMainnet: true });


}
export default CapoDataBridge;


/**
 * Helper class for generating UplcData for variants of the CapoDatum enum type.
 */
export class CapoDatumHelper extends EnumBridge<JustAnEnum> {
    protected __cast = new Cast<
       CapoDatum,
       CapoDatumLike
   >(CapoDatumSchema, { isMainnet: true });

    /**
     * generates  UplcData for "CapoHelpers::CapoDatum.CharterToken"
     * @remarks - CapoDatum$CharterTokenLike is the same as the expanded field-types.     */
    CharterToken(fields: CapoDatum$CharterTokenLike | { 
        spendDelegateLink: RelativeDelegateLinkLike,
        spendInvariants: Array<{
    uutName: /*minStructField*/ string
    strategyName: /*minStructField*/ string
    delegateValidatorHash: /*minStructField*/ Option<ValidatorHash | string | number[]>
    config: /*minStructField*/ number[]
}
>,
        namedDelegates: Map<string, {
    uutName: /*minStructField*/ string
    strategyName: /*minStructField*/ string
    delegateValidatorHash: /*minStructField*/ Option<ValidatorHash | string | number[]>
    config: /*minStructField*/ number[]
}
>,
        mintDelegateLink: RelativeDelegateLinkLike,
        mintInvariants: Array<{
    uutName: /*minStructField*/ string
    strategyName: /*minStructField*/ string
    delegateValidatorHash: /*minStructField*/ Option<ValidatorHash | string | number[]>
    config: /*minStructField*/ number[]
}
>,
        govAuthorityLink: RelativeDelegateLinkLike } ) : UplcData {
        const uplc = this.mkUplcData({
            CharterToken: fields 
        }, "CapoHelpers::CapoDatum.CharterToken");
       return uplc;
    } /*multiFieldVariant enum accessor*/

/**
 * (property getter): UplcData for "CapoHelpers::CapoDatum.ScriptReference"
 */
    get ScriptReference() {
        const uplc = this.mkUplcData({ ScriptReference: {} }, 
            "CapoHelpers::CapoDatum.ScriptReference");
       return uplc;
    } /* tagOnly variant accessor */

    /**
     * generates  UplcData for "CapoHelpers::CapoDatum.DelegatedData"
     * @remarks - CapoDatum$DelegatedDataLike is the same as the expanded field-types.     */
    DelegatedData(fields: CapoDatum$DelegatedDataLike | { 
        data: AnyDataLike,
        version: IntLike,
        otherDetails: UplcData } ) : UplcData {
        const uplc = this.mkUplcData({
            DelegatedData: fields 
        }, "CapoHelpers::CapoDatum.DelegatedData");
       return uplc;
    } /*multiFieldVariant enum accessor*/
}


/**
 * Helper class for generating UplcData for variants of the CapoActivity enum type.
 */
export class CapoActivityHelper extends EnumBridge<isActivity> {
    protected __cast = new Cast<
       CapoActivity,
       CapoActivityLike
   >(CapoActivitySchema, { isMainnet: true });

/**
 * (property getter): UplcData for "CapoHelpers::CapoActivity.usingAuthority"
 */
    get usingAuthority() {
        const uplc = this.mkUplcData({ usingAuthority: {} }, 
            "CapoHelpers::CapoActivity.usingAuthority");
       return uplc;
    } /* tagOnly variant accessor */

/**
 * (property getter): UplcData for "CapoHelpers::CapoActivity.updatingCharter"
 */
    get updatingCharter() {
        const uplc = this.mkUplcData({ updatingCharter: {} }, 
            "CapoHelpers::CapoActivity.updatingCharter");
       return uplc;
    } /* tagOnly variant accessor */

/**
 * (property getter): UplcData for "CapoHelpers::CapoActivity.retiringRefScript"
 */
    get retiringRefScript() {
        const uplc = this.mkUplcData({ retiringRefScript: {} }, 
            "CapoHelpers::CapoActivity.retiringRefScript");
       return uplc;
    } /* tagOnly variant accessor */

/**
 * (property getter): UplcData for "CapoHelpers::CapoActivity.addingSpendInvariant"
 */
    get addingSpendInvariant() {
        const uplc = this.mkUplcData({ addingSpendInvariant: {} }, 
            "CapoHelpers::CapoActivity.addingSpendInvariant");
       return uplc;
    } /* tagOnly variant accessor */

/**
 * (property getter): UplcData for "CapoHelpers::CapoActivity.spendingDelegatedDatum"
 */
    get spendingDelegatedDatum() {
        const uplc = this.mkUplcData({ spendingDelegatedDatum: {} }, 
            "CapoHelpers::CapoActivity.spendingDelegatedDatum");
       return uplc;
    } /* tagOnly variant accessor */

/**
 * (property getter): UplcData for "CapoHelpers::CapoActivity.updatingTypeMap"
 */
    get updatingTypeMap() {
        const uplc = this.mkUplcData({ updatingTypeMap: {} }, 
            "CapoHelpers::CapoActivity.updatingTypeMap");
       return uplc;
    } /* tagOnly variant accessor */
}


export const RelativeDelegateLinkSchema : StructTypeSchema = {
    "kind": "struct",
    "format": "list",
    "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
    "name": "RelativeDelegateLink",
    "fieldTypes": [
        {
            "name": "uutName",
            "type": {
                "kind": "internal",
                "name": "String"
            }
        },
        {
            "name": "strategyName",
            "type": {
                "kind": "internal",
                "name": "String"
            }
        },
        {
            "name": "delegateValidatorHash",
            "type": {
                "kind": "option",
                "someType": {
                    "kind": "internal",
                    "name": "ValidatorHash"
                }
            }
        },
        {
            "name": "config",
            "type": {
                "kind": "internal",
                "name": "ByteArray"
            }
        }
    ]
};

export const AnyDataSchema : StructTypeSchema = {
    "kind": "struct",
    "format": "map",
    "id": "__module__StellarHeliosHelpers__AnyData[]",
    "name": "AnyData",
    "fieldTypes": [
        {
            "name": "id",
            "type": {
                "kind": "internal",
                "name": "ByteArray"
            },
            "key": "@id"
        },
        {
            "name": "type",
            "type": {
                "kind": "internal",
                "name": "String"
            },
            "key": "tpe"
        }
    ]
};

export const CapoDatumSchema : EnumTypeSchema = {
    "kind": "enum",
    "name": "CapoDatum",
    "id": "__module__CapoHelpers__CapoDatum[]",
    "variantTypes": [
        {
            "kind": "variant",
            "tag": 0,
            "id": "__module__CapoHelpers__CapoDatum[]__CharterToken",
            "name": "CharterToken",
            "fieldTypes": [
                {
                    "name": "spendDelegateLink",
                    "type": {
                        "kind": "struct",
                        "format": "list",
                        "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
                        "name": "RelativeDelegateLink",
                        "fieldTypes": [
                            {
                                "name": "uutName",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                }
                            },
                            {
                                "name": "strategyName",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                }
                            },
                            {
                                "name": "delegateValidatorHash",
                                "type": {
                                    "kind": "option",
                                    "someType": {
                                        "kind": "internal",
                                        "name": "ValidatorHash"
                                    }
                                }
                            },
                            {
                                "name": "config",
                                "type": {
                                    "kind": "internal",
                                    "name": "ByteArray"
                                }
                            }
                        ]
                    }
                },
                {
                    "name": "spendInvariants",
                    "type": {
                        "kind": "list",
                        "itemType": {
                            "kind": "struct",
                            "format": "list",
                            "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
                            "name": "RelativeDelegateLink",
                            "fieldTypes": [
                                {
                                    "name": "uutName",
                                    "type": {
                                        "kind": "internal",
                                        "name": "String"
                                    }
                                },
                                {
                                    "name": "strategyName",
                                    "type": {
                                        "kind": "internal",
                                        "name": "String"
                                    }
                                },
                                {
                                    "name": "delegateValidatorHash",
                                    "type": {
                                        "kind": "option",
                                        "someType": {
                                            "kind": "internal",
                                            "name": "ValidatorHash"
                                        }
                                    }
                                },
                                {
                                    "name": "config",
                                    "type": {
                                        "kind": "internal",
                                        "name": "ByteArray"
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "namedDelegates",
                    "type": {
                        "kind": "map",
                        "keyType": {
                            "kind": "internal",
                            "name": "String"
                        },
                        "valueType": {
                            "kind": "struct",
                            "format": "list",
                            "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
                            "name": "RelativeDelegateLink",
                            "fieldTypes": [
                                {
                                    "name": "uutName",
                                    "type": {
                                        "kind": "internal",
                                        "name": "String"
                                    }
                                },
                                {
                                    "name": "strategyName",
                                    "type": {
                                        "kind": "internal",
                                        "name": "String"
                                    }
                                },
                                {
                                    "name": "delegateValidatorHash",
                                    "type": {
                                        "kind": "option",
                                        "someType": {
                                            "kind": "internal",
                                            "name": "ValidatorHash"
                                        }
                                    }
                                },
                                {
                                    "name": "config",
                                    "type": {
                                        "kind": "internal",
                                        "name": "ByteArray"
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "mintDelegateLink",
                    "type": {
                        "kind": "struct",
                        "format": "list",
                        "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
                        "name": "RelativeDelegateLink",
                        "fieldTypes": [
                            {
                                "name": "uutName",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                }
                            },
                            {
                                "name": "strategyName",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                }
                            },
                            {
                                "name": "delegateValidatorHash",
                                "type": {
                                    "kind": "option",
                                    "someType": {
                                        "kind": "internal",
                                        "name": "ValidatorHash"
                                    }
                                }
                            },
                            {
                                "name": "config",
                                "type": {
                                    "kind": "internal",
                                    "name": "ByteArray"
                                }
                            }
                        ]
                    }
                },
                {
                    "name": "mintInvariants",
                    "type": {
                        "kind": "list",
                        "itemType": {
                            "kind": "struct",
                            "format": "list",
                            "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
                            "name": "RelativeDelegateLink",
                            "fieldTypes": [
                                {
                                    "name": "uutName",
                                    "type": {
                                        "kind": "internal",
                                        "name": "String"
                                    }
                                },
                                {
                                    "name": "strategyName",
                                    "type": {
                                        "kind": "internal",
                                        "name": "String"
                                    }
                                },
                                {
                                    "name": "delegateValidatorHash",
                                    "type": {
                                        "kind": "option",
                                        "someType": {
                                            "kind": "internal",
                                            "name": "ValidatorHash"
                                        }
                                    }
                                },
                                {
                                    "name": "config",
                                    "type": {
                                        "kind": "internal",
                                        "name": "ByteArray"
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "govAuthorityLink",
                    "type": {
                        "kind": "struct",
                        "format": "list",
                        "id": "__module__CapoDelegateHelpers__RelativeDelegateLink[]",
                        "name": "RelativeDelegateLink",
                        "fieldTypes": [
                            {
                                "name": "uutName",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                }
                            },
                            {
                                "name": "strategyName",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                }
                            },
                            {
                                "name": "delegateValidatorHash",
                                "type": {
                                    "kind": "option",
                                    "someType": {
                                        "kind": "internal",
                                        "name": "ValidatorHash"
                                    }
                                }
                            },
                            {
                                "name": "config",
                                "type": {
                                    "kind": "internal",
                                    "name": "ByteArray"
                                }
                            }
                        ]
                    }
                }
            ]
        },
        {
            "kind": "variant",
            "tag": 1,
            "id": "__module__CapoHelpers__CapoDatum[]__ScriptReference",
            "name": "ScriptReference",
            "fieldTypes": []
        },
        {
            "kind": "variant",
            "tag": 2,
            "id": "__module__CapoHelpers__CapoDatum[]__DelegatedData",
            "name": "DelegatedData",
            "fieldTypes": [
                {
                    "name": "data",
                    "type": {
                        "kind": "struct",
                        "format": "map",
                        "id": "__module__StellarHeliosHelpers__AnyData[]",
                        "name": "AnyData",
                        "fieldTypes": [
                            {
                                "name": "id",
                                "type": {
                                    "kind": "internal",
                                    "name": "ByteArray"
                                },
                                "key": "@id"
                            },
                            {
                                "name": "type",
                                "type": {
                                    "kind": "internal",
                                    "name": "String"
                                },
                                "key": "tpe"
                            }
                        ]
                    }
                },
                {
                    "name": "version",
                    "type": {
                        "kind": "internal",
                        "name": "Int"
                    }
                },
                {
                    "name": "otherDetails",
                    "type": {
                        "kind": "internal",
                        "name": "Data"
                    }
                }
            ]
        }
    ]
};

export const CapoActivitySchema : EnumTypeSchema = {
    "kind": "enum",
    "name": "CapoActivity",
    "id": "__module__CapoHelpers__CapoActivity[]",
    "variantTypes": [
        {
            "kind": "variant",
            "tag": 0,
            "id": "__module__CapoHelpers__CapoActivity[]__usingAuthority",
            "name": "usingAuthority",
            "fieldTypes": []
        },
        {
            "kind": "variant",
            "tag": 1,
            "id": "__module__CapoHelpers__CapoActivity[]__updatingCharter",
            "name": "updatingCharter",
            "fieldTypes": []
        },
        {
            "kind": "variant",
            "tag": 2,
            "id": "__module__CapoHelpers__CapoActivity[]__retiringRefScript",
            "name": "retiringRefScript",
            "fieldTypes": []
        },
        {
            "kind": "variant",
            "tag": 3,
            "id": "__module__CapoHelpers__CapoActivity[]__addingSpendInvariant",
            "name": "addingSpendInvariant",
            "fieldTypes": []
        },
        {
            "kind": "variant",
            "tag": 4,
            "id": "__module__CapoHelpers__CapoActivity[]__spendingDelegatedDatum",
            "name": "spendingDelegatedDatum",
            "fieldTypes": []
        },
        {
            "kind": "variant",
            "tag": 5,
            "id": "__module__CapoHelpers__CapoActivity[]__updatingTypeMap",
            "name": "updatingTypeMap",
            "fieldTypes": []
        }
    ]
};
// }
